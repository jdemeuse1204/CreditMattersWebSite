<template>
    <require from="aurelia-kendoui-bridge/dropdownlist/dropdownlist"></require>
    <require from="aurelia-kendoui-bridge/autocomplete/autocomplete"></require>
    <require from="aurelia-kendoui-bridge/common/template"></require>

    <ai-dialog class="modal-dialog modal-md" id="manage-credit-items-item-modal">
        <ai-dialog-body>
            <h2>${model.title}</h2>
            <div class="close-modal" data-dismiss="modal"></div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-xs-12">
                        <label>Account Number</label>
                        <div class="input-group input-group-flat" id="manage-credit-items-validate-account-number" data-validate-lite="input-empty">
                            <input type="text" class="form-control" value.bind="model.creditItem.AccountNumber" aria-describedby="manage-credit-items-account-number">
                            <span class="input-group-addon" id="manage-credit-items-account-number"><i class="fa fa-asterisk"></i></span>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6 kendo-autocomplete">
                        <label>Creditor</label>
                        <div class="input-group input-group-flat" id="manage-credit-items-validate-creditor" data-validate-lite="input-empty">
                            <ak-autocomplete 
                                k-data-source.bind="creditors" 
                                k-min-length.bind="2"
                                k-virtual.bind="virtual"
                                k-data-text-field="Name"
                                k-value.two-way="model.creditItem.Creditor.Name"
                                aria-describedby="manage-credit-items-creditor">
                                <input style="width: 100%;" placeholder="Type to find...">
                            </ak-autocomplete>
                            <span class="input-group-addon" id="manage-credit-items-creditor"><i class="fa fa-asterisk"></i></span>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <label>Balance</label>
                        <div class="input-group input-group-flat" id="manage-credit-items-validate-balance" data-validate-lite="input-empty-numeric">
                            <input type="text" class="form-control" value.bind="model.creditItem.Balance" aria-describedby="manage-credit-items-balance">
                            <span class="input-group-addon" id="manage-credit-items-balance"><i class="fa fa-asterisk"></i></span>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-5 kendo-dropdown">
                        <label>Type</label>
                        <div class="input-group input-group-flat" id="manage-credit-items-validate-adverse-type" data-validate-lite="dropdown">
                            <ak-drop-down-list k-data-text-field="Type" k-data-value-field="Id" k-data-source.bind="adverseTypes" k-value.two-way="model.creditItem.AdverseTypeId"
                                k-data-option-label="Select Type..." style="width: 100%;" aria-describedby="manage-credit-items-adverse-type">
                            </ak-drop-down-list>
                            <span class="input-group-addon" id="manage-credit-items-adverse-type"><i class="fa fa-asterisk"></i></span>
                        </div>
                    </div>
                    <div class="col-sm-7 kendo-combobox dispute-reason">
                        <div class="row">
                            <label>Dispute Reason</label>
                            <div>
                                <label>Customize It?</label>&nbsp;<input id="manage-credit-items-dispute-reason-user-custom-reason"
                                    type="checkbox" class="form-control" />
                            </div>
                        </div>

                        <div class="row">
                            <div class="input-group input-group-flat" id="manage-credit-items-validate-dispute-reason-default" data-validate-lite="input-empty"
                                data-bind="style: { display: defaultDisputeReasonDisplay }">
                                <select id="manage-credit-items-dispute-reason-default" class="form-control" data-bind="value:creditItem.DisputeReason.Reason"
                                    aria-describedby="manage-credit-items-dispute-reason-default-addon" data-bind="style: { display: defaultDisputeReasonDisplay }"
                                />
                                <span class="input-group-addon" id="manage-credit-items-dispute-reason-default-addon" data-bind="style: { display: defaultDisputeReasonDisplay }"><i class="fa fa-asterisk"></i></span>
                            </div>

                            <div class="input-group input-group-flat" id="manage-credit-items-validate-dispute-reason-custom" data-validate-lite="input-empty"
                                data-bind="style: { display: customDisputeReasonDisplay }">
                                <input type="text" id="manage-credit-items-dispute-reason-custom" class="form-control" data-bind="value:creditItem.DisputeReason.Reason"
                                    aria-describedby="manage-credit-items-dispute-reason-custom-addon" data-bind="style: { display: customDisputeReasonDisplay }"
                                    placeholder="Custom Reason" />
                                <span class="input-group-addon" id="manage-credit-items-dispute-reason-custom-addon" data-bind="style: { display: customDisputeReasonDisplay }"><i class="fa fa-asterisk"></i></span>
                            </div>
                        </div>
                    </div>
                </div>
                <div css.bind="{ display:model.display.add }">
                    <h4>Credit Bureau Initial Status</h4>
                    <div class="row">
                        <div class="col-md-4 mcr-radio-group">
                            <label>TransUnion</label>
                            <input type="radio" name="mcr-transunion-initial-bureau-status" value="1" data-bind="checked: creditItem.TransUnionInitialStatusId"
                                default="true">&nbsp;<span>Not Reporting</span>
                            <input type="radio" name="mcr-transunion-initial-bureau-status" value="2" data-bind="checked: creditItem.TransUnionInitialStatusId">&nbsp;<span>Negative</span>
                        </div>
                        <div class="col-md-4 mcr-radio-group">
                            <label>Equifax</label>
                            <input type="radio" name="mcr-equifax-initial-bureau-status" value="1" data-bind="checked: creditItem.EquifaxInitialStatusId"
                                default="true">&nbsp;<span>Not Reporting</span>
                            <input type="radio" name="mcr-equifax-initial-bureau-status" value="2" data-bind="checked: creditItem.EquifaxInitialStatusId">&nbsp;<span>Negative</span>
                        </div>
                        <div class="col-md-4 mcr-radio-group">
                            <label>Experian</label>&emsp;
                            <input type="radio" name="mcr-experian-initial-bureau-status" value="1" data-bind="checked: creditItem.ExperianInitialStatusId"
                                default="true">&nbsp;<span>Not Reporting</span>
                            <input type="radio" name="mcr-experian-initial-bureau-status" value="2" data-bind="checked: creditItem.ExperianInitialStatusId">&nbsp;<span>Negative</span>
                        </div>
                    </div>

                </div>
                <div dcss.bind="{ display:model.display.edit }">
                    <h4>Credit Bureau Response Status</h4>
                    <div class="row">
                        <div class="col-md-4 mcr-radio-group">
                            <label>TransUnion</label>
                            <input type="radio" name="mcr-transunion-response-bureau-status" value="3" checked.bind="creditItem.TransUnionResponseStatusId === 3">&nbsp;<span>Positive</span>
                            <input type="radio" name="mcr-transunion-response-bureau-status" value="4" checked.bind="creditItem.TransUnionResponseStatusId === 4">&nbsp;<span>Deleted</span>
                            <input type="radio" name="mcr-transunion-response-bureau-status" default="true">&nbsp;<span>No Response</span>
                        </div>
                        <div class="col-md-4 mcr-radio-group">
                            <label>Equifax</label>
                            <input type="radio" name="mcr-equifax-response-bureau-status" value="3" data-bind="checked: creditItem.EquifaxResponseStatusId">&nbsp;<span>Positive</span>
                            <input type="radio" name="mcr-equifax-response-bureau-status" value="4" data-bind="checked: creditItem.EquifaxResponseStatusId">&nbsp;<span>Deleted</span>
                            <input type="radio" name="mcr-equifax-response-bureau-status" default="true">&nbsp;<span>No Response</span>
                        </div>
                        <div class="col-md-4 mcr-radio-group">
                            <label>Experian</label>
                            <input type="radio" name="mcr-experian-response-bureau-status" value="3" data-bind="checked: creditItem.ExperianResponseStatusId">&nbsp;<span>Positive</span>
                            <input type="radio" name="mcr-experian-response-bureau-status" value="4" data-bind="checked: creditItem.ExperianResponseStatusId">&nbsp;<span>Deleted</span>
                            <input type="radio" name="mcr-experian-response-bureau-status" default="true">&nbsp;<span>No Response</span>
                        </div>
                    </div>
                </div>
            </div>
        </ai-dialog-body>
        <ai-dialog-footer class="modal-footer">
            <button type="button" class="btn btn-success pull-right" delegate.trigger="save()"><i class="glyphicon glyphicon-floppy-disk"></i>&nbsp;Save</button>
            <button type="button" class="btn btn-danger pull-left" click.trigger="controller.cancel()"><i class="fa fa-close"></i>&nbsp;Cancel</button>
        </ai-dialog-footer>
    </ai-dialog>
</template>